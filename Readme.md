# Security with ASP.NET Core, SignalR and Angular

[![.NET](https://github.com/damienbod/AspNetCoreAngularSignalRSecurity/actions/workflows/dotnet.yml/badge.svg)](https://github.com/damienbod/AspNetCoreAngularSignalRSecurity/actions/workflows/dotnet.yml)

## Posts in this series:

- [Getting started with SignalR using ASP.NET Core and Angular](https://damienbod.com/2017/09/12/getting-started-with-signalr-using-asp-net-core-and-angular/)
- [SignalR Group messages with ngrx and Angular](https://damienbod.com/2017/09/18/signalr-group-messages-with-ngrx-and-angular/)
- [Using EF Core and SQLite to persist SignalR Group messages in ASP.NET Core](https://damienbod.com/2017/09/29/using-ef-core-and-sqlite-to-persist-signalr-group-messages-in-asp-net-core/)
- [Using Message Pack with ASP.NET Core SignalR](https://damienbod.com/2018/03/19/using-message-pack-with-asp-net-core-signalr/)
- [Uploading and sending image messages with ASP.NET Core SignalR](https://damienbod.com/2018/05/13/uploading-and-sending-image-messages-with-asp-net-core-signalr/)	
- [Securing an Angular SignalR client using JWT tokens with ASP.NET Core and Duende IdentityServer](https://damienbod.com/2017/10/16/securing-an-angular-signalr-client-using-jwt-tokens-with-asp-net-core-and-identityserver4/)
- [Implementing custom policies in ASP.NET Core using the HttpContext](https://damienbod.com/2017/10/23/implementing-custom-policies-in-asp-net-core-using-the-httpcontext/)
- [Sending Direct Messages using SignalR with ASP.NET core and Angular](https://damienbod.com/2017/12/05/sending-direct-messages-using-signalr-with-asp-net-core-and-angular/)
- [Implementing User Management with ASP.NET Core Identity and custom claims](https://damienbod.com/2018/10/30/implementing-user-management-with-asp-net-core-identity-and-custom-claims/)

## Run migrations

### Console

```
dotnet ef migrations add init_api -c DataEventRecordContext
dotnet ef migrations add init_hub_db -c NewsContext
```

### Powershell

```
Add-Migration "init_api" -c DataEventRecordContext  
Add-Migration "init_hub_db" -c NewsContext  
```

## Running manually

```
Update-Database -Context DataEventRecordContext
Update-Database -Context NewsContext
```

## History

2023-08-19 Updated nuget packages, fix STS login bug

2023-04-29 Updated nuget packages

2023-01-21 Updated nuget packages

2023-01-07 Updated everything in STS project

2023-01-03 Updated .NET 7 and Angular 15

2022-01-28 Updated nuget packages

2021-11-04 Updated to .NET 6

2021-07-04 Updated to OIDC V12, updated nuget packages

2021-05-14 Updated npm, nuget packages

2021-03-14 Updated npm, nuget packages

2021-03-05 Updated npm, nuget packages

2021-02-28 Updated npm, nuget packages

2021-01-24 Updated Direct messages to Angular CLI version, linted, prettier

2021-01-23 Updated to .NET 5, Azure SDK access, ngrx re-write, updated Angular project

2020-09-15 Updated to .NET 5, Angular 11.0.2

2020-09-15 Updated to IdentityServer4 4.1.0, .NET Core 3.1.8

2020-07-06 Updated to IdentityServer4 4.0.2, angular-auth-oidc-client 11.1.4, Angular 10.0.2

2020-06-28 Updated to Angular 10.0.1

2020-06-28 Updated IdentityServer4 V4 + breaking changes and nuget packages

2020-05-02 Updated to OIDC lib version 11, updated nuget packages, npm packages

2020-03-21 updated packages, fixed Admin UI STS

2020-03-03 updated STS, support for FIDO2

2020-02-10 updated Angular 9 and nuget packages

2020-01-02 updated npm and nuget packages

2019-12-15 updated STS middleware configuration

2019-12-06 updated to ASP.NET Core 3.1

2019-11-17 updated to Nuget packages, updated to Angular 8.2.14, npm packages

2019-09-24 updated to .NET Core 3.0, Angular 8.2.7

2019-09-20 updated to .NET Core 3.0 rc1

2019-09-14 updated to .NET Core 3.0 preview 9, Angular 8.2.6

2019-09-01 Updated nuget packages, Angular 8.2.4, oidc 10.0.4

2019-08-18 Updated ASP.NET Core 3.0, Angular 8.2.2

2019-07-30: Updating npm packages, angular 8.1.3, oidc 10.0.3, nuget packages

2019-06-21: Updating npm packages, angular 8.0.2, oidc 10.0.1, nuget packages

2019-06-10: Updating npm packages, angular-oidc

2019-05-30: Updating npm packages, angular 8.0.0

2019-05-21: Updating npm packages, angular 7.2.15, oidc 9.0.8

2019-04-26: Switch to in-process hosting, updated npm packages

2019-04-14: Updating npm packages, angular 7.2.13, nuget packages 

2019-03-29: Updating npm packages, angular 7.2.11, nuget packages 

2019-03-15: Updating npm packages, nuget packages 

2019-02-24: Updating npm packages, nuget packages 

2019-02-06: Updating ngrx 

2019-01-23: Updating npm packages

2019-01-08: switch to OIDC Code Flow with PKCE, OIDC 9.0.0, angular 7.2.1

2018-12-04: updated .NET Core 2.2, npm packages

2018-11-02: updated npm packages

2018-10-30: Added User Admin to STS, custom claims with policies

2018-10-26: Updated  Angular 7.0.1, OIDC 7.0.3

2018-10-14: Updated  Angular 6.1.10, OIDC 7.0.0, ASP.NET Core SignalR 1.0.4

2018-10-07: Updated to Angular 6.1.9, OIDC 6.0.12, Nuget packages

2018-09-09: Updated Angular 6.1.7, OIDC Angular lib

2018-08-18: Updated .NET Core 2.1.2, Angular 6.1.3, OIDC Angular lib

2018-08-04: Updated .NET Core 2.1.2, Angular 6.1.1

2018-05-31: Updated .NET Core 2.1

2018-05-08: Updated Angular 6.0.3 and npm packages

2018-05-08: Updated .NET Core 2.1 rc1

2018-05-04: Updated Angular 6.0.0, STS to bootstrap 4

2018-04-22: Updated Angular 5.2.10, latest ASP.NET Core SignalR preview2

2018-03-21: Updated Angular 5.2.9, angular-auth-oidc-client 4.1.0

2018-03-15: Updated signalr Microsoft.AspNetCore.SignalR 1.0.0-preview1-final, Angular 5.2.8, @aspnet/signalr 1.0.0-preview1-update1

